<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.16">
<title data-rh="true">Common Deployment Failures of TiDB in Kubernetes | TiDB in Kubernetes Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ran-huang.github.io/docusaurus-operator/deploy-failures"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Common Deployment Failures of TiDB in Kubernetes | TiDB in Kubernetes Docs"><meta data-rh="true" name="description" content="This document describes the common deployment failures of TiDB in Kubernetes and their solutions."><meta data-rh="true" property="og:description" content="This document describes the common deployment failures of TiDB in Kubernetes and their solutions."><link data-rh="true" rel="icon" href="/docusaurus-operator/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ran-huang.github.io/docusaurus-operator/deploy-failures"><link data-rh="true" rel="alternate" href="https://ran-huang.github.io/docusaurus-operator/deploy-failures" hreflang="en"><link data-rh="true" rel="alternate" href="https://ran-huang.github.io/docusaurus-operator/deploy-failures" hreflang="x-default"><link rel="stylesheet" href="/docusaurus-operator/assets/css/styles.68554639.css">
<link rel="preload" href="/docusaurus-operator/assets/js/runtime~main.f81f0faa.js" as="script">
<link rel="preload" href="/docusaurus-operator/assets/js/main.5a4d47d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus-operator/"><div class="navbar__logo"><img src="/docusaurus-operator/img/tidb-logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docusaurus-operator/img/tidb-logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">TiDB in Kubernetes</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docusaurus-operator/">Docs</a><a class="navbar__item navbar__link" href="/docusaurus-operator/architecture">Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ran-huang/docusaurus-operator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docusaurus-operator/">TiDB in Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;TiDB in Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-operator/get-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docusaurus-operator/category/deploy">Deploy</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docusaurus-operator/restore-data-using-tidb-lightning">Migrate</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docusaurus-operator/category/manage">Manage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docusaurus-operator/tips">Troubleshoot</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-operator/tips">Tips for troubleshooting TiDB in Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus-operator/deploy-failures">Common Deployment Failures of TiDB in Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-operator/exceptions">Common Cluster Exceptions of TiDB in Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-operator/network-issues">Common Network Issues of TiDB in Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-operator/faq">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Troubleshoot</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docusaurus-operator/deploy-failures">Common Deployment Failures of TiDB in Kubernetes</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Common Deployment Failures of TiDB in Kubernetes</h1><p>This document describes the common deployment failures of TiDB in Kubernetes and their solutions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-pod-is-not-created-normally">The Pod is not created normally<a class="hash-link" href="#the-pod-is-not-created-normally" title="Direct link to heading">â€‹</a></h2><p>After creating a cluster, if the Pod is not created, you can diagnose it using the following commands:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get tidbclusters -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe tidbclusters -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${cluster_name}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get statefulsets -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe statefulsets -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${cluster_name}</span><span class="token plain">-pd</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>After creating a backup/restore task, if the Pod is not created, you can perform a diagnostic operation by executing the following commands:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get backups -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get </span><span class="token function" style="color:#d73a49">jobs</span><span class="token plain"> -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe backups -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${backup_name}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe backupschedules -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${backupschedule_name}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe </span><span class="token function" style="color:#d73a49">jobs</span><span class="token plain"> -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${backupjob_name}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe restores -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${restore_name}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-pod-is-in-the-pending-state">The Pod is in the Pending state<a class="hash-link" href="#the-pod-is-in-the-pending-state" title="Direct link to heading">â€‹</a></h2><p>The Pending state of a Pod is usually caused by conditions of insufficient resources, for example:</p><ul><li>The <code>StorageClass</code> of the PVC used by PD, TiKV, TiFlash, Pump, Monitor, Backup, and Restore Pods does not exist or the PV is insufficient.</li><li>No nodes in the Kubernetes cluster can satisfy the CPU or memory resources requested by the Pod</li><li>The number of TiKV or PD replicas and the number of nodes in the cluster do not satisfy the high availability scheduling policy of tidb-scheduler</li></ul><p>You can check the specific reason for Pending by using the <code>kubectl describe pod</code> command:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe po -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${pod_name}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="cpu-or-memory-resources-are-insufficient">CPU or memory resources are insufficient<a class="hash-link" href="#cpu-or-memory-resources-are-insufficient" title="Direct link to heading">â€‹</a></h3><p>If the CPU or memory resources are insufficient, you can lower the CPU or memory resources requested by the corresponding component for scheduling, or add a new Kubernetes node.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="storageclass-of-the-pvc-does-not-exist">StorageClass of the PVC does not exist<a class="hash-link" href="#storageclass-of-the-pvc-does-not-exist" title="Direct link to heading">â€‹</a></h3><p>If the <code>StorageClass</code> of the PVC cannot be found, take the following steps:</p><ol><li><p>Get the available <code>StorageClass</code> in the cluster:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get storageclass</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Change <code>storageClassName</code> to the name of the <code>StorageClass</code> available in the cluster.</p></li><li><p>Update the configuration file:</p><ul><li>If you want to start the TiDB cluster, execute <code>kubectl edit tc ${cluster_name} -n ${namespace}</code> to update the cluster.</li><li>If you want to run a backup/restore task, first execute <code>kubectl delete bk ${backup_name} -n ${namespace}</code> to delete the old backup/restore task, and then execute <code>kubectl apply -f backup.yaml</code> to create a new backup/restore task.</li></ul></li><li><p>Delete StatefulSet and the corresponding PVCs:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete pvc -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${pvc_name}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete sts -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${statefulset_name}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="insufficient-available-pvs">Insufficient available PVs<a class="hash-link" href="#insufficient-available-pvs" title="Direct link to heading">â€‹</a></h3><p>If a <code>StorageClass</code> exists in the cluster but the available PV is insufficient, you need to add PV resources correspondingly. For Local PV, you can expand it by referring to <a href="/docusaurus-operator/configure-storage-class#local-pv-configuration">Local PV Configuration</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-high-availability-scheduling-policy-of-tidb-scheduler-is-not-satisfied">The high availability scheduling policy of tidb-scheduler is not satisfied<a class="hash-link" href="#the-high-availability-scheduling-policy-of-tidb-scheduler-is-not-satisfied" title="Direct link to heading">â€‹</a></h2><p>tidb-scheduler has a high availability scheduling policy for PD and TiKV. For the same TiDB cluster, if there are N replicas of TiKV or PD, then the number of PD Pods that can be scheduled to each node is <code>M=(N-1)/2</code> (if N&lt;3, then M=1) at most, and the number of TiKV Pods that can be scheduled to each node is <code>M=ceil(N/3)</code> (if N&lt;3, then M=1; <code>ceil</code> means rounding up) at most.</p><p>If the Pod&#x27;s state becomes <code>Pending</code> because the high availability scheduling policy is not satisfied, you need to add more nodes in the cluster.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-pod-is-in-the-crashloopbackoff-state">The Pod is in the <code>CrashLoopBackOff</code> state<a class="hash-link" href="#the-pod-is-in-the-crashloopbackoff-state" title="Direct link to heading">â€‹</a></h2><p>A Pod in the <code>CrashLoopBackOff</code> state means that the container in the Pod repeatedly aborts (in the loop of abort - restart by <code>kubelet</code> - abort). There are many potential causes of <code>CrashLoopBackOff</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="view-the-log-of-the-current-container">View the log of the current container<a class="hash-link" href="#view-the-log-of-the-current-container" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> logs -f </span><span class="token variable" style="color:#36acaa">${pod_name}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="view-the-log-when-the-container-was-last-restarted">View the log when the container was last restarted<a class="hash-link" href="#view-the-log-when-the-container-was-last-restarted" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n </span><span class="token variable" style="color:#36acaa">${namespace}</span><span class="token plain"> logs -p </span><span class="token variable" style="color:#36acaa">${pod_name}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>After checking the error messages in the log, you can refer to <a href="https://pingcap.com/docs/stable/how-to/troubleshoot/cluster-setup#cannot-start-tidb-server" target="_blank" rel="noopener noreferrer">Cannot start <code>tidb-server</code></a>, <a href="https://pingcap.com/docs/stable/how-to/troubleshoot/cluster-setup#cannot-start-tikv-server" target="_blank" rel="noopener noreferrer">Cannot start <code>tikv-server</code></a>, and <a href="https://pingcap.com/docs/stable/how-to/troubleshoot/cluster-setup#cannot-start-pd-server" target="_blank" rel="noopener noreferrer">Cannot start <code>pd-server</code></a> for further troubleshooting.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cluster-id-mismatch">&quot;cluster id mismatch&quot;<a class="hash-link" href="#cluster-id-mismatch" title="Direct link to heading">â€‹</a></h3><p>When the &quot;cluster id mismatch&quot; message appears in the TiKV Pod log, the TiKV Pod might have used old data from other or previous TiKV Pod. If the data on the local disk remain uncleared when you configure local storage in the cluster, or the data is not recycled by the local volume provisioner due to a forced deletion of PV, this error might occur.</p><p>If you confirm that the TiKV should join the cluster as a new node and that the data on the PV should be deleted, you can delete the TiKV Pod and the corresponding PVC. The TiKV Pod automatically rebuilds and binds the new PV for use. When configuring local storage, delete local storage on the machine to avoid Kubernetes using old data. In cluster operation and maintenance, manage PV using the local volume provisioner and do not delete it forcibly. You can manage the lifecycle of PV by creating, deleting PVCs, and setting <code>reclaimPolicy</code> for the PV.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ulimit-is-not-big-enough"><code>ulimit</code> is not big enough<a class="hash-link" href="#ulimit-is-not-big-enough" title="Direct link to heading">â€‹</a></h3><p>TiKV might fail to start when <code>ulimit</code> is not big enough. In this case, you can modify the <code>/etc/security/limits.conf</code> file of the Kubernetes node to increase the <code>ulimit</code>:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">root soft nofile 1000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root hard nofile 1000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root soft core unlimited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root soft stack 10240</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="other-causes">Other causes<a class="hash-link" href="#other-causes" title="Direct link to heading">â€‹</a></h3><p>If you cannot confirm the cause from the log and <code>ulimit</code> is also a normal value, troubleshoot the issue by <a href="/docusaurus-operator/tips#use-the-diagnostic-mode">using the diagnostic mode</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/deploy-failures.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docusaurus-operator/tips"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tips for troubleshooting TiDB in Kubernetes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docusaurus-operator/exceptions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Common Cluster Exceptions of TiDB in Kubernetes</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-pod-is-not-created-normally" class="table-of-contents__link toc-highlight">The Pod is not created normally</a></li><li><a href="#the-pod-is-in-the-pending-state" class="table-of-contents__link toc-highlight">The Pod is in the Pending state</a><ul><li><a href="#cpu-or-memory-resources-are-insufficient" class="table-of-contents__link toc-highlight">CPU or memory resources are insufficient</a></li><li><a href="#storageclass-of-the-pvc-does-not-exist" class="table-of-contents__link toc-highlight">StorageClass of the PVC does not exist</a></li><li><a href="#insufficient-available-pvs" class="table-of-contents__link toc-highlight">Insufficient available PVs</a></li></ul></li><li><a href="#the-high-availability-scheduling-policy-of-tidb-scheduler-is-not-satisfied" class="table-of-contents__link toc-highlight">The high availability scheduling policy of tidb-scheduler is not satisfied</a></li><li><a href="#the-pod-is-in-the-crashloopbackoff-state" class="table-of-contents__link toc-highlight">The Pod is in the <code>CrashLoopBackOff</code> state</a><ul><li><a href="#view-the-log-of-the-current-container" class="table-of-contents__link toc-highlight">View the log of the current container</a></li><li><a href="#view-the-log-when-the-container-was-last-restarted" class="table-of-contents__link toc-highlight">View the log when the container was last restarted</a></li><li><a href="#cluster-id-mismatch" class="table-of-contents__link toc-highlight">&quot;cluster id mismatch&quot;</a></li><li><a href="#ulimit-is-not-big-enough" class="table-of-contents__link toc-highlight"><code>ulimit</code> is not big enough</a></li><li><a href="#other-causes" class="table-of-contents__link toc-highlight">Other causes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docusaurus-operator/">User Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus-operator/architecture">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/tidb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://tidb.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>tidb.io<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/pingcap" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/pingcap/tidb-operator" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Source Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 TiDB in Kubernetes Docs, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus-operator/assets/js/runtime~main.f81f0faa.js"></script>
<script src="/docusaurus-operator/assets/js/main.5a4d47d5.js"></script>
</body>
</html>